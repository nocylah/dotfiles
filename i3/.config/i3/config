# i3 config file (v4)
# http://i3wm.org/docs/userguide.html

### Constants
  set $mod Mod1

### Focus
  # change focus
  bindsym $mod+h focus left
  bindsym $mod+j focus down
  bindsym $mod+k focus up
  bindsym $mod+l focus right

  # change focus between tiling / floating windows
  bindsym $mod+space focus mode_toggle

  # focus the parent container
  bindsym $mod+a focus parent

  # focus the child container
  bindsym $mod+z focus child

### Move
  # Use Mouse+$mod to drag floating windows to their wanted position
  floating_modifier $mod

  # move focused window
  bindsym $mod+Shift+h move left
  bindsym $mod+Shift+j move down
  bindsym $mod+Shift+k move up
  bindsym $mod+Shift+l move right

  # move focused workspace:
  bindsym $mod+Shift+Left move workspace to output left
  bindsym $mod+Shift+Down move workspace to output down
  bindsym $mod+Shift+Up move workspace to output up
  bindsym $mod+Shift+Right move workspace to output right

  # move focused container to workspace
  bindsym $mod+Shift+1 move container to workspace number 1
  bindsym $mod+Shift+2 move container to workspace number 2
  bindsym $mod+Shift+3 move container to workspace number 3
  bindsym $mod+Shift+4 move container to workspace number 4
  bindsym $mod+Shift+5 move container to workspace number 5
  bindsym $mod+Shift+6 move container to workspace number 6
  bindsym $mod+Shift+7 move container to workspace number 7
  bindsym $mod+Shift+8 move container to workspace number 8
  bindsym $mod+Shift+9 move container to workspace number 9
  bindsym $mod+Shift+0 move container to workspace number 10

### Layout
  # split in horizontal orientation
  bindsym $mod+s split h

  # split in vertical orientation
  bindsym $mod+v split v

  # enter fullscreen mode for the focused container
  bindsym $mod+f fullscreen toggle

  # change container layout (stacked, tabbed, toggle split)
  bindsym $mod+u layout stacking
  bindsym $mod+i layout tabbed
  bindsym $mod+o layout toggle split

  # toggle tiling / floating
  bindsym $mod+Shift+space floating toggle

### Workspaces
  # switch to workspace
  bindsym $mod+1 workspace number 1
  bindsym $mod+2 workspace number 2
  bindsym $mod+3 workspace number 3
  bindsym $mod+4 workspace number 4
  bindsym $mod+5 workspace number 5
  bindsym $mod+6 workspace number 6
  bindsym $mod+7 workspace number 7
  bindsym $mod+8 workspace number 8
  bindsym $mod+9 workspace number 9
  bindsym $mod+0 workspace number 10

### Resize
  # resize window (you can also use the mouse for that)
  mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # Pressing left will shrink the window’s width.
    # Pressing right will grow the window’s width.
    # Pressing up will shrink the window’s height.
    # Pressing down will grow the window’s height.

    bindsym j resize shrink width 5 px or 5 ppt
    bindsym k resize grow height 5 px or 5 ppt
    bindsym l resize shrink height 5 px or 5 ppt
    bindsym semicolon resize grow width 5 px or 5 ppt

    bindsym $mod+j resize shrink width 1 px or 1 ppt
    bindsym $mod+k resize grow height 1 px or 1 ppt
    bindsym $mod+l resize shrink height 1 px or 1 ppt
    bindsym $mod+semicolon resize grow width 1 px or 1 ppt

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
  }
  bindsym $mod+r mode "resize"

### Appearance
  font pango:Arvo 10
  # class          border  backgr. text  indicator child_border
  client.focused          #458588 #076678 #ffffff #d79921   #076678
  client.focused_inactive #689d6a #427b58 #ffffff #484e50   #427b58
  client.unfocused        #665c54 #504945 #bdae93 #292d2e   #504945
  client.urgent           #9d0006 #cc241d #ffffff #900000   #cc241d
  #client.placeholder     #000000 #0c0c0c #ffffff #000000   #0c0c0c
  #client.background     #ffffff

### Bar
  # Start i3bar to display a workspace bar (plus the system information i3status
  # finds out, if available)
  bar {
    status_command i3blocks
    position top
    separator_symbol "/"
    colors {
      # class    color
      background #282828
      #statusline #ffffff
      #separator #666666

      # class            border  backgr. text
      focused_workspace  #282828 #076678 #ffffff
      active_workspace   #282828 #427b58 #ffffff
      inactive_workspace #282828 #282828 #bdae93
      urgent_workspace   #282828 #cc241d #ffffff
      #binding_mode       #2f343a #900000 #ffffff
    }
    #tray_output all
  }

### WM Key Bindings
  # reload the configuration file
  bindsym $mod+Shift+c reload

  # restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
  bindsym $mod+Shift+r restart

  # exit i3 (logs you out of your X session)
  bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

  # hide the i3bar
  bindsym $mod+b bar mode toggle

  # start a terminal
  bindsym $mod+Return exec ~/.config/i3/scripts/xcwd.sh -e xonsh

  # start a browser
  bindsym $mod+backslash exec firefox --new-window

  # start a browser
  bindsym $mod+Shift+backslash exec firefox --private-window

  # kill focused window
  bindsym $mod+Shift+q kill

  # start dmenu (a program launcher)
  bindsym $mod+colon exec dmenu_run -fn '-xos4-terminus-medium-r-*-*-18-*'

### App Key Bindings
  # pass
  bindsym $mod+p exec passmenu

  # spotify
  bindsym $mod+m exec dspop
  bindsym $mod+less exec echo 'prev' | nc localhost 6602
  bindsym $mod+greater exec echo 'next' | nc localhost 6602
  bindsym $mod+slash exec echo 'toggle' | nc localhost 6602

  # brightness
  bindcode Control+108 exec light -U 5
  bindcode Control+105 exec light -A 5
  bindcode $mod+108 exec light -S 5

  # volume
  bindcode Shift+108 exec pactl set-sink-volume 0 -2%
  bindcode Shift+105 exec pactl set-sink-volume 0 +2%
  bindcode $mod+105 exec pactl set-sink-volume 0 0

  # sigstop and sigcont focused window
  bindcode $mod+34 exec kill -s STOP $(xdotool getwindowfocus getwindowpid)
  bindcode $mod+35 exec kill -s CONT $(xdotool getwindowfocus getwindowpid)

  # rename workspace
  bindsym $mod+q exec ~/.config/i3/scripts/wtag.py reset
  bindsym $mod+w exec ~/.config/i3/scripts/wtag.py rename

  # xscreensaver lock
  bindsym $mod+Escape exec xscreensaver-command -lock
